 <!doctype html>
<html lang="en" ng-app="app">
<head>
    <meta charset="UTF-8">
    <title>Waitstaff Calculator</title>
    <!-- Compiled and minified CSS -->
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.0/css/materialize.min.css">
	<!-- Compiled and minified JavaScript -->
  	<script src="https://code.jquery.com/jquery-1.11.3.min.js"></script>
  	<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.0/js/materialize.min.js"></script>
</head>
<body class="light-blue accent-4">
  <div class="container" ng-controller="WaitCalcCtrl">
  	<div class="row white-text">
  		<h1>Waitstaff Calculator</h1>
  	</div>
  	<div class="row">
	  	<div class="col m7">
	  		<div class="card-panel white blue-text">
	  			<h4>Enter the Meal Details...</h4>
	  			<form name="chargeForm" ng-submit="submit(chargeForm)" novalidate>
				  <div class="input-field">
				    <input type="number" name="sub_total" ng-model="charge.sub_total" placeholder="Meal Price, e.g. 45.85" required>
                  </div>
                  <div class="error" ng-hide="fresh_state" ng-if="chargeForm.sub_total.$error.required">
			        A Meal Price is required!
			      </div>
		          <div class="error" ng-hide="fresh_state"  ng-if="chargeForm.sub_total.$error.number">
		             Need a number!!
		          </div>
				  <div class="input-field">
				    <input type="number" name="tax_rate" ng-model="charge.tax_rate" placeholder="Tax Rate, e.g. 0.08" required>
                  </div>
                  <div class="error" ng-hide="fresh_state" ng-if="chargeForm.tax_rate.$error.required">
			        A Tax Rate is required!
			      </div>
		          <div class="error" ng-hide="fresh_state"  ng-if="chargeForm.tax_rate.$error.number">
		             Need a number!!
		          </div>
				  <div class="input-field">
				    <input type="number" name="tip_percentage" ng-model="charge.tip_percentage" placeholder="Tip Percentage, e.g. 0.20" required>
                  </div>
                  <div class="error" ng-hide="fresh_state" ng-if="chargeForm.tip_percentage.$error.required">
			        A Tip Percentage is required!
			      </div>
		          <div class="error" ng-hide="fresh_state"  ng-if="chargeForm.tip_percentage.$error.number">
		             Need a number!!
		          </div>
		          <div>
		            <button class="btn red white-text" type="submit">Submit</button>
		            <button class="btn white red-text" type="button" ng-click="reset_charge()">Cancel</button>
		          </div>
	  			</form>
	  		</div>
	  		<div>
	  		  <div class="white-text" ng-if="customer_charges.length">
				  <h4>Last 5 Transactions </h4>
				  <div ng-if="customer_charges.length > 5">
				    <button ng-hide="show_all" class="btn white pink-text" type="button" ng-click="show_all_transactions(true)">See All</button>
				    <button ng-show="show_all" class="btn white pink-text" type="button" ng-click="show_all_transactions(false)">See Less</button>
				  </div>
				  <div ng-hide="show_all">
				      <div ng-repeat="charge in customer_charges|reverse|limitTo:5">
				        <div  class="card-panel white pink-text">Time: {{ charge.time }} / Total: {{ charge.charge.total }}</div>
				      </div>
			  	  </div>
			  	  <div ng-show="show_all">
				      <div ng-repeat="charge in customer_charges|reverse">
				        <div  class="card-panel white pink-text">Time: {{ charge.time }} / Total: {{ charge.charge.total }}</div>
				      </div>
			 	  </div>
			  </div>
	  		</div>
	  	</div>
	  	<div class="col m5" ng-if="customer_charges.length">
	  		<div class="card-panel blue-text">	  			
	  			<h4>Customer Charges</h4>
	  			<div>Sub Total: {{ current_charge.sub_total|currency }}</div>
	  			<div>Tax: {{ current_charge.tax|currency}}</div>
	  			<div>Tip: {{ current_charge.tip|currency }}</div>
	  			<hr>
	  			<div>Total: {{ current_charge.total|currency }}</div>
	  		</div>
	  		<div class="card-panel blue-text">
	  			<h4>My Earnings Info</h4>
	  			<div>Tip Total: {{ staff_earnings.tip_total|currency }}</div>
	  			<div>Meal Count: {{ staff_earnings.meal_count }}</div>
	  			<div>Avg Tip Per Meal: {{ staff_earnings.avg_tip|currency }}</div>
	  		</div>
	  		<div>
		        <button class="btn red white-text" type="button" ng-click="reset_all()">Reset App</button>
		    </div>

	  	</div>
	</div>
  </div>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js" type="text/javascript"></script>
  <script src="app.js" type="text/javascript"></script>
</body>
</html>
